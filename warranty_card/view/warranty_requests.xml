<?xml version="1.0" encoding="utf-8"?>
<odoo>

  <!-- VISTA ARBOL PARA WARRANTY.REQUESTS -->

  <record id="warranty_requests" model="ir.ui.view">
    <field name="name">warranty.requests.tree</field> 
    <field name="model">warranty.requests</field>
    <field name="arch" type="xml">
      <tree>
        <field name="name" readonly="1"/>
        <field name="cliente"/>
        <field name="date"/>
        <field name="stage_sign_in"/>
      </tree>
    </field>
  </record>

  <!-- VISTA FORMULARIO  WARRANTY.REQUESTS -->

  <record id="warranty_requests_view_form" model="ir.ui.view"> 
    <field name="name">warranty.requests.view.form</field> 
    <field name="model">warranty.requests</field>
    <field name="arch" type="xml">
      <form string="Nueva Solicitud de GarantÃ­as">
          <header>
              <field name="stage_sign_in" widget="statusbar" options="{'clickable': '1', 'fold_field': 'fold'}"/>
          </header>
          <sheet>
            <div class="oe_button_box" name="button_box">
            </div>
            <group>
              <div class="oe_title pr-0">
                <h1 class="d-flex flex-row justify-content-between">
                  <field name="name" class="o_task_name text-truncate" readonly="1" placeholder="Folio"/>
                </h1>
              </div>
            </group>                        
            <group>
              <group>
                <field name="cliente" readonly="1"/>
                <field name="no_serie"/>
                <field name="no_motor" readonly="1"/>
                <field name="folio"/>
              </group>
              <group>
                <field name="date" readonly="1"/>
                <field name="modelo" readonly="1"/>
                <field name="date_sold" readonly="1"/>
                <field name="kilometraje"/>
              </group>
            </group>
            <group>
              <field name="descripcion"/>
            </group>
          </sheet>
          <div class="oe_chatter">
            <field name="message_follower_ids" widget="mail_followers"/>
            <field name="activity_ids" widget="mail_activity"/>
            <field name="message_ids" widget="mail_thread"/>
          </div>
      </form>
    </field> 
  </record>

  <!-- VISTA KANBAN PARA  WARRANTY.REQUESTS-->

  <record id="warranty_requests_kanban" model="ir.ui.view">
    <field name="name">warranty.requests.kanban</field>
    <field name="model">warranty.requests</field>
    <field name="arch" type="xml">
        <kanban examples="project" archivable="false">
            <field name="color"/>
            <field name="message_needaction_counter"/>
            <templates>
                <t t-name="kanban-box">
                    <div t-attf-class="oe_kanban_color_{{kanban_getcolor(record.color.raw_value)}} oe_kanban_global_click">
                        <div class="oe_dropdown_kanban">
                            <!-- dropdown menu -->
                            <div class="o_dropdown_kanban dropdown">
                              <a class="dropdown-toggle o-no-caret btn" role="button" data-toggle="dropdown" data-display="static" href="#" aria-label="Dropdown menu" title="Dropdown menu">
                                  <span class="fa fa-ellipsis-v"/>
                              </a>
                              <div class="dropdown-menu" role="menu">
                                  <t t-if="widget.editable"><a role="menuitem" type="edit" class="dropdown-item">Editar</a></t>
                                  <t t-if="widget.deletable"><a role="menuitem" type="delete" class="dropdown-item">Suprimir</a></t>
                                  <ul class="oe_kanban_colorpicker" data-field="color"/>
                              </div>
                            </div>
                            <div t-attf-class="oe_kanban_content">
                              <div class="o_kanban_record_top">
                                <div>
                                  <strong style="font-size: 140%"><field name="name" readonly="1"/></strong>
                                </div>
                              </div>
                              <div class="o_kanban_record_body">
                                Nombre:
                                  <field name="name" readonly="1"/>
                                  <br/>
                                Cliente:
                                  <field name="cliente"/>
                                  <br/>
                              </div>
                              <div class="o_kanban_record_bottom">
                                <div class="oe_kanban_bottom_left">
                                  <field name="activity_ids" widget="kanban_activity"/>
                                  <t t-if="record.message_needaction_counter.raw_value">
                                      <span role="alert" class="oe_kanban_mail_new" title="Unread Messages"><i class="fa fa-comments" role="img" aria-label="Unread Messages"/><t t-raw="record.message_needaction_counter.raw_value"/></span>
                                  </t>
                                </div>
                                <div class="oe_kanban_bottom_right" t-if="!selection_mode">
                                      <field name="kanban_state" widget="state_selection"/>
                                </div>
                              </div>
                            </div>
                        </div>
                    </div>
                </t>
            </templates>
        </kanban>
    </field>
  </record>
</odoo>
